# Chapter 1 - 자바 8, 9, 10, 11 : 무슨 일이 일어나고 있는가?
## 1.1 역사의 흐름은 무엇인가?
자바 역사를 통틀어 가장 큰 변화가 자바8에서 일어났습니다. 자바 10에서는 형 추론과 관련해 약간의 변화만 일어났습니다.  
예를 들어 다음은 사과 목록을 무게순으로 정렬하는 고전적 코드입니다.  
```java
Collections.sort(inventory, new Comparator<Apple>() {
  @Override
  public int compare(Apple a1, Apple a2) {
    return Integer.compare(a1.getWeight(), a2.getWeight());
  }
});
```
Java8을 이용하면 자연어에 더 가깝게 간단한 방식으로 코드를 구현할 수 있습니다.
```java
inventory.sort(comparing(Apple::getWeight));
```
위 두 코드는 사과의 무게를 비교해서 목록에서 정렬합니다.  
  
지금까지의(Java8이전) 대부분의 자바 프로그램은 코어 중 하나만을 사용했습니다.  
나머지 코어는 유휴 idle 코어로 두거나, 운영체제나 바이러스 검사 프로그램과 프로세스 파워를 나눠서 사용했습니다.  
  
Java8이 등장하기 이전에는 나머지 코어를 활용하려면 스레드를 사용하는 것이 좋다고 누군가가 조언했을 것입니다.  
하지만 스레드를 사용하면 관리하기 어렵고 많은 문제가 발생할 수 있다는 단점이 있습니다.  
자바는 이러한 `병렬 실행 환경`을 쉽게 관리하고 `에러가 덜 발생하는 방향`으로 진화하려 노력했습니다.  
  
- Java1.0 : 스레드, 락(lock), 메모리 모델  
- Java5 : 스레드 풀, 병렬 실행 컬렉션  
- Java7 : 병렬 실행에 도움을 줄 수 있는 포크/조인 프레임워크 제공   
- `Java8 : 병렬 실행을 새롭고 단순한 방식으로 접근할 수 있는 방법!`  
  
Java8은 `간결한 코드, 멀티코어 프로세서의 쉬운 활용`이라는 두 가지 요구사항을 기반으로 합니다.  
Java8에서 제공하는 새로운 기술은 다음과 같습니다.  
- 스트림 API  
- 메서드에 코드를 전달하는 기법  
- 인터페이스의 디폴트 메서드  
  
Java8은 `병렬 연산을 지원하는 스트림`이라는 새로운 API를 제공합니다.  
데이터베이스 질의 언어(SQL)에서 고수준 언어로 원하는 동작을 표현하면, 구현(스트림 라이브러리)에서 최적의 저수준 실행  
방법을 선택하는 방식으로 동작합니다. 즉, 스트림을 이용하면 에러를 자주 일으키며 멀티코어 CPU를 이용하는 것보다 비용이 훨씬 비싼 키워드  
`synchronized`를 사용하지 않아도 됩니다.  
  
메서드에 코드를 전달하는 기법을 이용하면 새롭고 간결한 방식으로 `동작 파라미터화(behavior parameterization)`을 구현할 수 있습니다.  
메서드에 코드를 전달 (뿐만 아니라 결과를 반환하고 다른 자료구조로 전달할 수도 있음) 하는 자바 8 기법은 `함수형 프로그래밍`에서 위력을 발휘합니다.  
  
## 1.2 왜 아직도 자바는 변화하는가? 
모든 프로그래밍 언어는 장단점을 가지고 있습니다.  
자바는 처음부터 스레드와 락을 이용한 소소한 동시성을 지원했습니다.  
하드웨어 중립적인 메모리 모델 때문에 멀티코어 프로세서에서 병렬적으로 수행되는 스레드는 싱글코어에서의 동작과 달리 예기치 못한 상황을 일으킬 수 있습니다.  
  
코드를 `JVM 바이트 코드로 컴파일하는 특징`, 그리고 `모든 브라우저에서 가상 머신 코드를 지원하기` 때문에 자바는 인터넷 애플리케이션 프로그램의 주요 언어가 되었습니다.  
  
객체지향이 각광받은 두 가지 이유는 첫 번째로 `캡슐화`덕분에 C에 비해 소프트웨어 엔지니어링적인 문제가 훨씬 적다는점, 두 번째는 `객체지향의 정신적인 모델`덕분에  
윈도우 95 및 그 이후의 WIMP 프로그래밍 모델에 쉽게 대응할 수 있다는 점입니다.  
이것은 **모든 것은 객체다**로 요약할 수 있습니다.  
  
프로그래머는 빅데이터(테라바이트, 즉 10의12승 바이트)라는 도전에 직면하면서 멀티코어 컴퓨터나 컴퓨팅 클러스터를 이용해서 빅데이터를 효과적으로 처리할 필요성이 커졌습니다.  
즉, 병렬 프로세싱을 활용해야 하는 데 지금까지의 자바로는 충분히 대응할 수 없었습니다.  
  
지금부터 소개하는 세 개의 절에서는 자바 8 설계의 밑바탕을 이루는 세 가지 프로그래밍 개념입니다.  
### 1.2.2 스트림 처리

### 1.2.3 동작 파라미터화로 메서드에 코드 전달하기

### 1.2.4 병렬성과 공유 가변 데이터




